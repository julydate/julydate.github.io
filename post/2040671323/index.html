<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/favicon.ico"><link rel="icon" type="image/png" href="/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="author" content="七夏浅笑"><meta name="description" content="许久没有开自己的博客了，也没有更新，今天就水一发吧。
前两天决定给博客开启HTTPS访问，结果没想到就此摊上了一大堆事。
首先是主机，从阿里云的云虚机迁移到了腾讯云服务器。"><meta name="keywords" content="笔记,"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><title>HTTPS Start ! - 七夏浅笑</title><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"><link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css"><link rel="stylesheet" href="/lib/prettify/tranquil-heart.min.css"><link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"><link rel="stylesheet" href="/css/main.css"><script src="/lib/jquery/jquery.min.js"></script><style type="text/css">.banner-bg{background-image:url(//julydate-1251438221.file.myqcloud.com/img/bg.jpg);background-position:center;background-repeat:repeat-y;background-size:cover;background-attachment:fixed}</style><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="七夏浅笑" type="application/atom+xml">
</head><body class="banner-bg"><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>七夏浅笑</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/">主页</a></li><li class="nav-item"><a class="nav-link" href="/archives/">归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/">分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a></li><li class="nav-item"><a class="nav-link" href="/links/">友链</a></li><li class="nav-item"><a class="nav-link" href="/about/">关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2 rgba-black-slight" id="background"><div class="full-bg-img"><div class="mask flex-center"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span><br><p class="mt-3"><i class="far fa-calendar-alt"></i> <span class="post-date">2016-05-17&nbsp;|&nbsp;</span> <i class="far fa-chart-bar"></i> <span class="post-count">2.1k</span>字&nbsp;|&nbsp; <i class="far fa-clock"></i> <span class="post-count">9</span>分钟</p></div></div></div></div></header><main id="mainContent" class="rgba-black-slight"><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="py-5 z-depth-3" id="board"><div class="post-content mx-auto" id="post"><div class="markdown-body"><p>许久没有开自己的博客了，也没有更新，今天就水一发吧。</p><p>前两天决定给博客开启HTTPS访问，结果没想到就此摊上了一大堆事。</p><p>首先是主机，从阿里云的云虚机迁移到了腾讯云服务器。</p><span id="more"></span><p>服务器直接用的amh架构，懒得自己搭了，PHP7.0什么的日后再论（估计自己搭的话又是一大堆烂摊子）。</p><p>好不容易把博客搬过来了，尼玛第一个问题就是emlog在nginx下的UrlRewrite问题，试了网上的好多方法都不行，最后用convert-apache-htaccess-to-nginx成功解决问题（<a target="_blank" href="http://www.anilcetin.com/convert-apache-htaccess-to-nginx/" rel="external nofollow noreferrer noopener">http://www.anilcetin.com/convert-apache-htaccess-to-nginx/</a>）。</p><p>然后申请ssl证书，用的startssl，匹配了五个域名，之后可能会用到，然后再把证书绑定到了cdn和服务器上，都还是一路顺畅。</p><p>一切准备就绪，满心欢喜的打开博客，一把小黄锁映入眼帘，图片全部变成了X，多说消失了，音乐播放器消失了，控制台一看瞬间感觉自己任重道远QAQ。</p><p>先把之前放在七牛云的文件替换成了https链接，然后停用了 音乐播放器，，然后停用了分享插件（百度分享的锅）。</p><p>接下来解决多说的问题，因为之前已经把多说JS本地化了，所以以为问题不大，谁知道换好后多说头像神坑，最后在近泽jrotty的帮助下换了个多说JS，在SAE上扔了个用于头像反代的PHP（详见<a target="_blank" href="https://www.levey.cn/2016/413.htm" rel="external nofollow noreferrer noopener">https://www.levey.cn/2016/413.htm</a>l），然后多说表情的问题，根据近泽jrotty的提议，直接用的颜表情2333（<a target="_blank" href="https://github.com/siitakechan/Duoshuo-Kaomoji" rel="external nofollow noreferrer noopener">https://github.com/siitakechan/Duoshuo-Kaomoji</a>），我还挺喜欢的。</p><p>本来以为大功告成，然而问题来了，先是颜表情会被多说评论框的#topbar遮住的问题，直接改颜表情的z-index不起作用，貌似被评论框的z-index限制了，放在下面又会被下面的评论遮住，不得已要改多说的CSS，好不容易把#topbar的z-index改成3，结果发现登陆过后其下拉框会被评论框遮住，没办法，强迫症晚期，继续改，改成4又会遮住颜表情，不得不又加了个:hover，在其中把z-index改成4，welldone，这个问题我想除了我也没谁遇得到了，不上图了。</p><p>然后由于之前给博客加了全站PJAX，颜表情居然在异步更新后失效了，哎，不得不又去改JS，最后用了pjax的函数结合jquery回调颜表情的JS：</p><pre><code class="javascript">$(document).on(&#39;pjax:complete&#39;, function() &#123;
    pajx_loadEmoji();
&#125;);
function pajx_loadEmoji()&#123;
    $.getScript(&quot;https://www.iqi7.com/content/templates/CoolBlack/js/emoji.js&quot;);
&#125;
</code></pre><p>多说的问题到此得以解决。</p><p>然后解决图片的问题，之前一直用的贴图库，没想到这真是一个大坑，试了一下，不支持，难道要一张一张的换？突然想到了多说头像用到的PHP反代，瞬间想到也用那种办法反代贴图库的图片吧，网上找了些源码，自己也根据实际情况改了点，结果如下：</p><pre><code class="php">error_reporting(0);
if(isset($_GET[&#39;url&#39;]) &amp;&amp; isset($_SERVER[&#39;HTTP_REFERER&#39;]))&#123;
   $url = urldecode($_GET[&#39;url&#39;]);
   $referer = parse_url($_SERVER[&#39;HTTP_REFERER&#39;]);
   if(preg_match(&quot;/^http/&quot;,$url) &amp;&amp; $referer[&#39;host&#39;]==&#39;www.iqi7.com&#39;)&#123;/*防盗链验证*/
       $opts = array(&#39;http&#39;=&gt;array(
           &#39;method&#39;=&gt;&#39;GET&#39;,
           &#39;timeout&#39;=&gt;10
       )); 
       $result = file_get_contents($url,FALSE,stream_context_create($opts)); 
       if($result)&#123;
           header(&quot;Cache-Control:public;maxage=604800&quot;);/*设置缓存时间*/
           header(&#39;Content-type: image/png&#39;);
           echo $result;
       &#125;else&#123;
           header(&quot;HTTP/1.1 404 Not Found&quot;);
       &#125;
   &#125;else&#123;
       header(&quot;HTTP/1.1 400 Bad Request&quot;);
   &#125;
&#125;else&#123;
   header(&quot;HTTP/1.1 403 Forbidden&quot;);
&#125;
</code></pre><p>然后是图片链接的替换问题，之前链接都是以” <a target="_blank" href="http://i/" rel="external nofollow noreferrer noopener">http://i</a> “开头的，贴图库的链接是i2.tietuku.cn/i3.tietuku.cn ……由于我博客中没有 <a target="_blank" href="http://i/" rel="external nofollow noreferrer noopener">http://i</a> 开头的其他链接，直接上数据库换</p><pre><code class="sql">UPDATE  `emlog_blog` SET content = REPLACE( content,  &#39;http://i&#39;,  &#39;https://www.iqi7.com/proxy.php?url=http://i&#39; ) ;
</code></pre><p>执行SQL命令后，大功告成！</p><p>其次是侧边栏的友链的favicon，同样使用上述方法反代（使用了g.soz.im的API接口）。</p><pre><code class="html">https://www.iqi7.com/proxy.php?url=http://g.soz.im/&lt;?php  echo 友链; ?&gt;cdn.ico?defaulticon=bluepng
</code></pre><p>然后是分享插件的问题，之前把它停用了，我并不想抛弃他，继续开始改造，竟然是百度分享的锅，那就把百度分享全部停掉，突然发现多说分享还是不错，直接用多说分享进行替换，找到插件Liang_zsshare.php，把百度分享替换为：</p><pre><code class="HTML">&lt;div class=&quot;ds-share flat&quot; data-thread-key=&quot;&#39;.$_SERVER[&#39;REQUEST_URI&#39;].&#39;&quot; data-title=&quot;文章&#39;.$_SERVER[&#39;REQUEST_URI&#39;].&#39;&quot; data-images=&quot;&#39;.$_SERVER[&#39;HTTP_HOST&#39;].$_SERVER[&#39;REQUEST_URI&#39;].&#39;&quot; data-content=&quot;七夏浅笑博客&quot; data-url=&quot;&#39;.$_SERVER[&#39;HTTP_HOST&#39;].$_SERVER[&#39;REQUEST_URI&#39;].&#39;&quot;&gt;
   &lt;div class=&quot;ds-share-inline&quot;&gt;
     &lt;ul  class=&quot;ds-share-icons-16&quot;&gt;    
      &lt;li data-toggle=&quot;ds-share-icons-more&quot;&gt;&lt;a class=&quot;ds-more&quot; href=&quot;javascript:void(0);&quot;&gt;分享到：&lt;/a&gt;&lt;/li&gt;
       &lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;
       &lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;
       &lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;
       &lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;
     &lt;/ul&gt;
     &lt;div class=&quot;ds-share-icons-more&quot;&gt;
     &lt;/div&gt;
   &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>到此这个插件已经可以正常使用了，接下来就是一言的问题了，直接换成了https链接（还好它支持），但是突然想把它改成自动更换的（异步加载），于是浏览了好多使用一言的网站，最后看到一个合适的，扒了下来，再稍加改造2333，顶部显示一言的地方：</p><pre><code class="HTML">&lt;a id=&quot;hitokotoa&quot; href=&quot;#&quot; target=&quot;_blank&quot;&gt;&lt;span id=&quot;hitokoto&quot; style=&quot;display: block;&quot;&gt;&lt;/span&gt;&lt;/a&gt;
</code></pre><p>页面底部的调用JS：</p><pre><code class="javascript">$(document).on(&#39;pjax:complete&#39;, function() &#123;
    hitokoto(e);
genHitokoto();
&#125;);
function hitokoto(e) &#123;
    $(&quot;#hitokoto&quot;).stop().fadeOut(function() &#123;
        $(&quot;#hitokoto&quot;).html(e.hitokoto);
        var element = document.getElementById(&#39;hitokotoa&#39;);
        element.href = &quot;http://hitokoto.us/view/&quot; + e.id;
        $(&quot;#hitokoto&quot;).stop().fadeIn()
    &#125;)
&#125;;
function genHitokoto() &#123;
    var e = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;],
    t = document.createElement(&quot;script&quot;);
    t.type = &quot;text/javascript&quot;;
    t.id = &quot;hitokotoko_js&quot;;
    t.src = &quot;https://api.hitokoto.us:214/rand?cat=&quot; + e[Math.floor(Math.random() * e.length)] + &quot;&amp;encode=jsc&amp;charset=utf-8&quot;;
    $(&quot;#hitokoto&quot;).append(t);
&#125;;
setInterval(genHitokoto, 1e4);
genHitokoto();
</code></pre><p>虽然说是扒的，其实我改了好多的说QAQ</p><p>最后是音乐播放器，哎，果然是鱼和熊掌不可兼得，好不容易找到一个支持https的播放器js，然而其调用的音频是不支持https的（网易云音乐），而且，好像主流的音乐站都不支持https，所以只要加载音乐一定会有小黄锁（反代音乐我暂时没有考虑，毕竟音频和图片是有区别的），刚想放弃的时候，突然想到使用一个按钮来手动加载播放器不就行了，这样一来只有要听音乐的时候才会有小黄锁了OLZ，于是把侧边栏的一个小模块做成了按钮，然而启用了PJAX，貌似在不刷新页面的情况下是加载不了的，这就尴尬了QAQ，最后只好用javascript结合php来实现，以下是JS部分：</p><pre><code class="javascript">function MusicPlayer()&#123;
    $(&#39;#LoadPlayer&#39;).click(function()&#123;
    LoadPlayer();
    &#125;);
    function LoadPlayer() &#123;
        window.location.href=&quot;&lt;?php echo &#39;https://&#39;.$_SERVER[&#39;HTTP_HOST&#39;].$_SERVER[&#39;REQUEST_URI&#39;].&#39;?LoadPlayer=1&#39;; ?&gt;&quot;;
    &#125;;
&#125;;
MusicPlayer();
$(document).on(&#39;pjax:complete&#39;, function() &#123;
    MusicPlayer();
&#125;);
</code></pre><p>以下是PHP部分（其实还是比较简单的）：</p><pre><code class="php">if(isset($_GET[&#39;LoadPlayer&#39;]))&#123;
    $LoadPlayer = $_GET[&#39;LoadPlayer&#39;];
    if($LoadPlayer)&#123;
        echo &#39;&lt;script src=&quot;https://api.miyay.cn/static/smusic.js?id=113054379&quot;&gt;&lt;/script&gt;&#39;;
    &#125;
&#125;
</code></pre><p>这样就能做到点击按钮后打开页面通过URL把参数传给PHP来输出播放器的JS，手动刷新页面后播放器会消失，这时候又变成可爱的小绿锁了o(￣▽￣)d</p><hr></div><br><div><div id="post-tag"><span><i class="iconfont icon-inbox"></i> <a class="hover-with-bg" href="/categories/%E7%A8%8B%E5%BA%8F">程序</a> &nbsp; </span><span><i class="iconfont icon-tag"></i> <a class="hover-with-bg" href="/tags/%E7%AC%94%E8%AE%B0">笔记</a></span></div><div id="post-note"><div><strong>本文作者：</strong><a href="/">七夏浅笑</a></div><div><strong>本文链接：</strong><a href="https://www.julydate.com/post/2040671323/">https://www.julydate.com/post/2040671323/</a></div><div><strong>版权声明：</strong>本站文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0/deed.zh" rel="nofollow noopener noopener">CC BY-NC-SA 3.0 CN</a> 协议进行许可</div></div><div id="post-nav" class="container"><div class="row"><a href="/post/1806566667/" id="post-nav-prev" class="col"><i class="fas fa-arrow-left"></i> <span class="post-nav-title">博客搬迁啦</span> </a><a href="/post/573570537/" id="post-nav-next" class="col"><span class="post-nav-title">博客准备换域名和名字啦</span> <i class="fas fa-arrow-right"></i></a></div></div></div></div><div class="col-lg-10 mx-auto nopadding-md"><div class="comments mx-auto" id="comments"><br><br><link rel="stylesheet" href="/lib/waline/2.15.6/waline.min.css"><style type="text/css">.wl-[data-class=wl-] .wl-content>p>a:not(.at){overflow-wrap:anywhere;display:inline}</style><div id="vcomments" style="margin:0 auto"></div><script defer src="/lib/waline/2.15.6/waline.min.js"></script><script>var notify=!1,verify=!1,oldLoad=window.onload;window.onload=function(){function e(e){const t=new FormData;return t.append("image",e),t.append("apiType","catbox"),t.append("token","146faa57355f01c8eed8a045eda6a684"),fetch("//www.hualigs.cn/api/upload",{method:"POST",mode:"cors",body:t}).then(e=>e.json()).then((function(e){const t=new RegExp("^[a-zA-z]+://[^s]*");let a=e.data.url.catbox;return t.test(a)?a:e.data.url[2]}))}Waline.init({el:"#vcomments",serverURL:"https://waline.julydate.com",meta:["nick","mail","link"],pageSize:"10",emoji:["https://www.julydate.com/waline-emojis/alus","https://www.julydate.com/waline-emojis/qq","https://www.julydate.com/waline-emojis/bilibili"],locale:{placeholder:"说点什么吧quq",uploading:"上传中...默认图床在境内可能无法访问"},imageUploader:function(t){return function(t){const a=new FormData;return a.append("smfile",t),a.append("format","json"),fetch("https://smms.xhtml.love/upload",{method:"POST",mode:"cors",headers:new Headers({Authorization:"FNnpntzeJnw1SQc61jL6Tt1UZPzmhLBT"}),body:a}).then(e=>e.json()).then((function(a){const n=new RegExp("^[a-zA-z]+://[^s]*");let o="image_repeated"==a.code?a.images:a.data.url?a.data.url:"";return n.test(o)?o:e(t)})).catch((function(a){return e(t)}))}(t)}}),oldLoad&&oldLoad()}</script><noscript>Please enable JavaScript to view the <a target="_blank" href="https://waline.js.org" rel="nofollow noopener noopener">comments powered by Waline.</a></noscript></div></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container"><div id="toc"><p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p><div id="tocbot"></div></div></div></div></div></main><div id="sidebar" class="sidebar-hide"><span class="sidebar-button sidebar-button-shift" id="toggle-sidebar"><i class="fa fa-arrow-right on" aria-hidden="true"></i></span><div class="sidebar-overlay"></div><div class="sidebar-intrude"><div class="sidebar-avatar"><img src="//julydate-1251438221.file.myqcloud.com/img/head.jpg" srcset="//julydate-1251438221.file.myqcloud.com/img/head.jpg" alt="avatar"></div><div class="text-center sidebar-about"><p class="h3 sidebar-author">七夏浅笑</p><p class="sidebar-subtitle">七月之约，夏末浅笑<script type="text/javascript">console.log("博主认证: https://bbs.liyuans.com")</script></p><a href="https://github.com/julydate" class="h4" target="_blank"><i class="fab fa-github" aria-hidden="true"></i> </a>&nbsp;&nbsp; <a href="https://twitter.com/julydate" class="h4" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i> </a>&nbsp;&nbsp; <a href="https://live.bilibili.com/22628687" class="h4" target="_blank"><i class="fab fa-youtube" aria-hidden="true"></i> </a>&nbsp;&nbsp; <a href="mailto:i@xhtml.love" class="h4" target="_blank"><i class="fas fa-envelope" aria-hidden="true"></i> </a>&nbsp;&nbsp;</div><div class="sidebar-friend"><p class="h6 sidebar-friend-title"><span class="sidebar-label-left"><i class="fas fa-user-friends"></i></span> <span class="sidebar-label">友情链接</span></p><ul class="list-group"><a href="/links/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 其余友链在内页</li></a><a href="https://xiaopc.org/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; xiaopc</li></a><a href="https://webdoger.me/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 孔壕</li></a><a href="https://diygod.me/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; DIYgod</li></a><a href="https://www.chinuno.com/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 兔兔</li></a><a href="https://tea9.xyz/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 茶姐姐</li></a><a href="https://qianling.pw/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 千灵夙赋</li></a><a href="https://moegod.com/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 月宅</li></a><a href="https://www.xytsing.com/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 咸鱼滩音乐团队</li></a><a href="https://hitokoto.cn/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 一言</li></a><a href="https://blog.naixi.net/" target="_blank"><li class="list-group-item"><i class="fas fa-quote-left"></i>&nbsp; 奶昔</li></a></ul></div></div></div><a class="z-depth-1" id="scroll-top-button" href="#" role="button"><i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div id="footerContent" class="rgba-black-slight"><footer class="pt-5"><div class="text-center py-3"><div class="footer-theme"><a href="https://hexo.io" target="_blank" rel="nofollow noopener noreferrer">Hexo</a> theme <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener noreferrer">Fluid</a> mod by <a href="https://github.com/qixa/hexo-theme-fluid-mod" target="_blank" rel="nofollow noopener noreferrer">Julydate</a></div><div class="footer-copyright">©2026&nbsp;七夏浅笑 <i class="iconfont icon-love"></i> <span>萌萌哒<span id="runtime"></span>天啦</span></div><div class="footer-hitokoto"><a id="hitokotoa" href="#" target="_blank" rel="nofollow noopener noreferrer"><span id="hitokoto"></span></a></div></div></footer></div><script src="/lib/popper/popper.min.js"></script><script src="/lib/bootstrap/js/bootstrap.min.js"></script><script src="/lib/mdbootstrap/js/mdb.min.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script src="/lib/tocbot/tocbot.min.js"></script><script src="/js/post.js"></script><script src="/lib/prettify/prettify.min.js"></script><script type="text/javascript">$(document).ready((function(){$("pre").addClass("prettyprint  linenums"),prettyPrint()}))</script><script src="/lib/typed/typed.min.js"></script><script type="text/javascript">var typed=new Typed("#subtitle",{strings:["  ","HTTPS Start !&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready((function(){$(".typed-cursor").addClass("h2"),typed.start()}))</script><script src="/lib/anchor/anchor.min.js"></script><script type="text/javascript">anchors.options={placement:"right",visible:"hover"};var el="h1,h2,h3,h4,h5,h6".split(","),res=[];for(item of el)res.push(".markdown-body > "+item);anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script type="text/javascript">var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){getSearchFile(path),this.onclick=null}</script><script src="/lib/fancybox/jquery.fancybox.min.js"></script><script type="text/javascript">var setupFancybox=function(){$("#post img:not(.no-zoom img, img[no-zoom])").each((function(){var t=document.createElement("a");$(t).attr("data-fancybox","gallery"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)}))};setupFancybox()</script><script type="text/javascript">function hitokoto(o){$("#hitokoto").stop().fadeOut((function(){$("#hitokoto").html(o.hitokoto),document.getElementById("hitokotoa").href="https://hitokoto.cn/?uuid="+o.uuid,$("#hitokoto").stop().fadeIn()}))}function getHitokoto(){var o=["a","b","c","d","e","i"];fetch("https://v1.hitokoto.cn/?encode=json&charset=utf-8&c="+o[Math.floor(Math.random()*o.length)],{cache:"no-cache",method:"GET",mode:"cors"}).then(o=>o.json()).then(o=>{hitokoto(o),setTimeout(getHitokoto,1e4)}).catch(console.error)}$(document).ready((function(){getHitokoto()}))</script><script type="text/javascript">$("#background").removeClass("banner-bg"),$("body").addClass("banner-bg");var postToTopHight=$("#board").offset().top;$(window).scroll((function(){document.body.scrollTop+document.documentElement.scrollTop>=postToTopHight?($("#background").removeClass("rgba-black-slight"),$("#mainContent").removeClass("rgba-black-slight"),$("#footerContent").removeClass("rgba-black-slight")):($("#background").addClass("rgba-black-slight"),$("#mainContent").addClass("rgba-black-slight"),$("#footerContent").addClass("rgba-black-slight"))}))</script><script type="text/javascript">var blogRunTime=function(){var e=document.getElementById("runtime"),n=new Date("2015,04,20"),t=(new Date).getTime()-n.getTime(),i=Math.floor(t/864e5);e.innerHTML=i};$(document).ready((function(){blogRunTime()}))</script><script type="text/javascript">var originalTitle=document.title;window.onblur=function(){document.title="你不爱我了QAQ"},window.onfocus=function(){document.title=originalTitle}</script><script type="text/javascript">var jumpComments=function(){if(window.location.hash){var n=decodeURI(window.location.hash);if(!$(n).length)var o=setInterval((function(){$(n).length&&(clearInterval(o),setTimeout((function(){$("html, body").animate({scrollTop:$(n).offset().top-90},1e3)}),1500))}),100)}};$(document).ready((function(){jumpComments()}))</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-150991779-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-150991779-1")</script></body></html>